---
description: "Стандарты и лучшие практики разработки для проекта"
globs: ["**/*.ts", "**/*.tsx", "**/*.js", "**/*.jsx", "**/package.json", "**/README.md", "**/docs/**/*"]
alwaysApply: true
autoAttachments: ["package.json", "tsconfig.json", ".eslintrc", ".prettierrc"]
---

# Правила Разработки

### Качество Кода
- Писать чистый, поддерживаемый код
- Следовать принципам DRY и SOLID
- Использовать правильные соглашения об именовании
- Реализовывать правильную обработку ошибок
- Использовать правильные комментарии
- Реализовывать правильную документацию
- Использовать правильное тестирование
- Реализовывать правильное логирование
- Использовать правильное версионирование
- Реализовывать правильные код-ревью
- Следовать принципу единой ответственности
- Использовать линтеры и форматтеры

### TypeScript
- Использовать правильные типы
- Реализовывать правильные интерфейсы
- Использовать правильные дженерики
- Реализовывать правильные type guards
- Использовать правильные utility types
- Реализовывать правильный type inference
- Использовать правильные type assertions
- Реализовывать правильную проверку типов
- Использовать правильные объявления типов
- Реализовывать правильный экспорт типов
- Использовать строгий режим TypeScript
- Избегать any и unknown где возможно

### Git
- Использовать правильную стратегию ветвления (trunk-based development)
- Реализовывать правильные сообщения коммитов (conventional commits)
- Использовать правильные pull requests
- Реализовывать правильные код-ревью
- Использовать правильную стратегию слияния (squash and merge)
- Реализовывать правильное версионирование (semver)
- Использовать правильные теги
- Реализовывать правильные релизы
- Использовать правильные воркфлоу
- Реализовывать правильный CI/CD
- Автоматизировать проверки кода
- Использовать pre-commit хуки

### Безопасность
- Реализовывать правильную аутентификацию
- Использовать правильную авторизацию
- Реализовывать правильную валидацию входных данных
- Использовать правильную санитизацию выходных данных
- Реализовывать правильный CORS
- Использовать правильные заголовки безопасности
- Реализовывать правильный SSL/TLS
- Использовать правильное шифрование
- Реализовывать правильную обработку сессий
- Использовать правильное хеширование паролей
- Следовать OWASP Top 10
- Регулярно обновлять зависимости

### Производительность
- Реализовывать правильное кэширование
- Использовать правильное разделение кода
- Реализовывать правильную ленивую загрузку
- Использовать правильную оптимизацию бандла
- Реализовывать правильный prefetching
- Использовать правильное сжатие
- Реализовывать правильную минификацию
- Использовать правильный tree shaking
- Реализовывать правильное удаление мертвого кода
- Использовать правильные resource hints
- Оптимизировать изображения и медиа
- Мониторить производительность

### Архитектура
- Использовать модульную архитектуру
- Следовать принципам чистой архитектуры
- Реализовывать правильное разделение ответственности
- Использовать правильные паттерны проектирования
- Реализовывать правильную обработку ошибок
- Использовать правильное внедрение зависимостей
- Реализовывать правильное логирование
- Использовать правильное кэширование
- Реализовывать правильную масштабируемость
- Использовать правильную документацию
- Реализовывать правильное тестирование
- Следовать принципам микросервисной архитектуры где уместно

### Тестирование
- Писать unit тесты
- Реализовывать интеграционные тесты
- Писать e2e тесты
- Использовать TDD где уместно
- Реализовывать тестовые сценарии
- Использовать моки и стабы
- Реализовывать тестовое покрытие
- Автоматизировать тестирование
- Использовать CI/CD для тестов
- Реализовывать нагрузочное тестирование
- Тестировать безопасность
- Проводить регрессионное тестирование

### Документация
- Писать понятную документацию
- Поддерживать актуальность документации
- Использовать автогенерацию где возможно
- Документировать API
- Писать README файлы
- Документировать архитектурные решения
- Использовать JSDoc
- Документировать конфигурации
- Писать инструкции по развертыванию
- Документировать процессы
- Использовать диаграммы
- Вести changelog
- Структурировать документацию по уровням:
  - L0: Обзор и быстрый старт
  - L1: Руководства и туториалы
  - L2: Технические спецификации
  - L3: API документация
- Включать примеры кода
- Документировать известные проблемы
- Вести troubleshooting guide
- Документировать процесс релизов
- Создавать architecture decision records (ADR)
- Использовать Markdown для документации
- Хранить документацию в репозитории
- Автоматизировать проверку документации
- Использовать линтеры для документации
- Следовать единому стилю

### Рабочий Процесс
- Использовать системы управления задачами
- Следовать методологии Agile
- Проводить код-ревью
- Использовать CI/CD пайплайны
- Автоматизировать рутинные задачи
- Следовать git-flow или trunk-based development
- Использовать линтеры и форматтеры
- Проводить регулярные ретроспективы
- Документировать решения
- Использовать системы мониторинга
- Следить за метриками
- Проводить регулярные аудиты

### Инструменты Разработки
- Использовать VSCode или WebStorm
- Настроить EditorConfig
- Использовать ESLint и Prettier
- Настроить Git хуки
- Использовать Docker для разработки
- Настроить отладку
- Использовать инструменты профилирования
- Настроить горячую перезагрузку
- Использовать инструменты анализа кода
- Настроить автоматическое тестирование
- Использовать инструменты для проверки типов
- Настроить автоматическое форматирование

### Мониторинг и Поддержка
- Использовать системы логирования
- Настроить мониторинг ошибок
- Следить за производительностью
- Использовать APM решения
- Настроить алерты
- Вести метрики использования
- Собирать обратную связь
- Анализировать логи
- Иметь план восстановления
- Документировать инциденты
- Проводить post-mortem анализ
- Улучшать процессы на основе опыта

### Управление Зависимостями
- Использовать yarn в качестве пакетного менеджера
- Фиксировать версии зависимостей
- Регулярно обновлять зависимости
- Проверять безопасность пакетов
- Использовать peerDependencies правильно
- Минимизировать размер node_modules
- Использовать yarn workspaces для монорепозиториев
- Оптимизировать время установки
- Документировать зависимости
- Использовать lockfile
- Проверять совместимость версий
- Следить за deprecation warnings

### Работа с Библиотеками
- Выбирать проверенные и поддерживаемые библиотеки
- Проверять размер бандла при добавлении библиотеки
- Использовать tree-shaking совместимые библиотеки
- Создавать абстракции для внешних библиотек
- Следить за обновлениями и уязвимостями
- Тестировать при обновлении библиотек
- Иметь стратегию миграции
- Использовать типы из @types
- Создавать обертки для сложных библиотек
- Документировать интеграции
- Следить за лицензиями
- Иметь план отката изменений 